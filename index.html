<!doctype html>
<html lang="no">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <!-- Security: Content Security Policy -->
    <!-- Note: 'unsafe-inline' for styles is needed for dynamic styling. Scripts are external only. -->
    <!-- blob: is needed for preview iframe functionality -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' blob:; script-src 'self' https://cdnjs.cloudflare.com blob:; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; connect-src https://api.openai.com https://api.anthropic.com https://generativelanguage.googleapis.com http://localhost:1234; img-src 'self' data: blob:; frame-src blob:; object-src 'none'; base-uri 'self'; form-action 'self';" />

    <!-- Additional security headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta name="referrer" content="strict-origin-when-cross-origin" />
    
    <title>VibeCoding Idea Builder</title>
    <meta name="description" content="Bruk AI til √• generere startklare webprosjekter. Perfekt for l√¶rere, studenter og alle som vil l√¶re webutvikling p√• en praktisk m√•te." />

    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><defs><linearGradient id='g' x1='0%' y1='0%' x2='100%' y2='100%'><stop offset='0%' style='stop-color:%23667eea'/><stop offset='100%' style='stop-color:%23764ba2'/></linearGradient></defs><rect width='100' height='100' rx='20' fill='url(%23g)'/><path d='M35 40 L45 50 L35 60' stroke='white' stroke-width='4' fill='none' stroke-linecap='round'/><path d='M65 40 L55 50 L65 60' stroke='white' stroke-width='4' fill='none' stroke-linecap='round'/><circle cx='50' cy='70' r='2' fill='white'/></svg>" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://barx10.github.io/vibe_code_generator/" />
    <meta property="og:title" content="VibeCoding Idea Builder - AI-drevet kodegenerator" />
    <meta property="og:description" content="Bruk AI til √• generere startklare webprosjekter. Perfekt for l√¶rere, studenter og alle som vil l√¶re webutvikling." />
    <meta property="og:image" content="https://barx10.github.io/vibe_code_generator/og-image.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://barx10.github.io/vibe_code_generator/" />
    <meta property="twitter:title" content="VibeCoding Idea Builder - AI-drevet kodegenerator" />
    <meta property="twitter:description" content="Bruk AI til √• generere startklare webprosjekter. Perfekt for l√¶rere, studenter og alle som vil l√¶re webutvikling." />
    <meta property="twitter:image" content="https://barx10.github.io/vibe_code_generator/og-image.png" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Outfit:wght@500;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Animated background orbs -->
    <div class="bg-orbs">
        <div class="bg-orb bg-orb-1"></div>
        <div class="bg-orb bg-orb-2"></div>
        <div class="bg-orb bg-orb-3"></div>
        <div class="bg-orb bg-orb-4"></div>
    </div>

    <div class="wrap">
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-glow"></div>
            <div class="hero-content">
                <div class="hero-badge" id="heroBadge">‚ú® AI-drevet kodegenerator</div>
                <h1 class="hero-title" id="heroTitle">Bygg apper<br><span class="gradient-text">uten √• kode</span></h1>
                <p class="hero-subtitle" id="heroSubtitle">Beskriv id√©en din, velg teknologi, og f√• startklar kode p√• sekunder. Perfekt for nybegynnere og raske prototyper.</p>
                <div class="hero-features">
                    <div class="hero-feature">
                        <span class="feature-icon">‚ö°</span>
                        <span id="heroFeature1">Klar p√• sekunder</span>
                    </div>
                    <div class="hero-feature">
                        <span class="feature-icon">üéØ</span>
                        <span id="heroFeature2">√ân fil, fungerer overalt</span>
                    </div>
                    <div class="hero-feature">
                        <span class="feature-icon">üîí</span>
                        <span id="heroFeature3">Din n√∏kkel, ditt innhold</span>
                    </div>
                </div>
            </div>
            <div class="hero-visual">
                <div class="code-window">
                    <div class="code-header">
                        <span class="code-dot red"></span>
                        <span class="code-dot yellow"></span>
                        <span class="code-dot green"></span>
                        <span class="code-title">index.html</span>
                    </div>
                    <div class="code-body">
                        <code><span class="code-tag">&lt;!DOCTYPE html&gt;</span>
<span class="code-tag">&lt;html&gt;</span>
  <span class="code-tag">&lt;head&gt;</span>
    <span class="code-tag">&lt;title&gt;</span><span class="code-string">Min App</span><span class="code-tag">&lt;/title&gt;</span>
  <span class="code-tag">&lt;/head&gt;</span>
  <span class="code-tag">&lt;body&gt;</span>
    <span class="code-comment">&lt;!-- Din kode her ‚ú® --&gt;</span>
  <span class="code-tag">&lt;/body&gt;</span>
<span class="code-tag">&lt;/html&gt;</span></code>
                    </div>
                </div>
            </div>
        </section>

        <header>
            <div class="topbar-main">
                <span class="pill" id="langPill">
                    <span class="mono">NO</span>
                    <button id="toggleLang" type="button">Bytt</button>
                </span>
                <span class="pill">
                    <span class="mono">API</span>
                    <span id="apiState" class="status-badge error">ikke konfigurert</span>
                </span>
            </div>
        </header>

        <div class="tabs" role="tablist">
            <button class="tab" id="tabGen" role="tab" aria-selected="true" aria-controls="panelGen">Generator</button>
            <button class="tab" id="tabHelp" role="tab" aria-selected="false" aria-controls="panelHelp">Hjelp</button>
            <button class="tab" id="tabAbout" role="tab" aria-selected="false" aria-controls="panelAbout">Om</button>
        </div>

        <section id="panelGen" role="tabpanel" aria-labelledby="tabGen">

            <!-- Wizard Step Indicator -->
            <div class="wizard-steps">
                <div class="wizard-step active" data-step="1">
                    <div class="wizard-step-number">1</div>
                    <div class="wizard-step-label" id="wizardStep1Label">API-n√∏kkel</div>
                </div>
                <div class="wizard-step-line"></div>
                <div class="wizard-step" data-step="2">
                    <div class="wizard-step-number">2</div>
                    <div class="wizard-step-label" id="wizardStep2Label">Beskriv appen</div>
                </div>
                <div class="wizard-step-line"></div>
                <div class="wizard-step" data-step="3">
                    <div class="wizard-step-number">3</div>
                    <div class="wizard-step-label" id="wizardStep3Label">Generer</div>
                </div>
            </div>

            <!-- STEP 1: API Configuration -->
            <div class="wizard-panel active" id="wizardStep1">
                <div class="card wizard-card">
                    <div class="wizard-card-header">
                        <span class="wizard-card-icon">üîë</span>
                        <div>
                            <h2 id="step1Title">Koble til AI</h2>
                            <p class="wizard-card-desc" id="step1Desc">Legg inn API-n√∏kkelen din for √• komme i gang</p>
                        </div>
                    </div>

                    <div class="api-providers">
                        <button class="provider-btn active" data-provider="google">
                            <span class="provider-icon">üîµ</span>
                            <span class="provider-name">Google</span>
                            <span class="provider-badge">Gemini</span>
                        </button>
                        <button class="provider-btn" data-provider="openai">
                            <span class="provider-icon">üü¢</span>
                            <span class="provider-name">OpenAI</span>
                            <span class="provider-badge">ChatGPT</span>
                        </button>
                        <button class="provider-btn" data-provider="anthropic">
                            <span class="provider-icon">üü£</span>
                            <span class="provider-name">Anthropic</span>
                            <span class="provider-badge">Claude</span>
                        </button>
                    </div>

                    <div class="provider-instructions" id="providerInstructions">
                        <div class="provider-instruction active" data-provider="google">
                            <h4>üöÄ Slik f√•r du Google API-n√∏kkel:</h4>
                            <ol>
                                <li>G√• til <a href="https://aistudio.google.com/apikey" target="_blank">aistudio.google.com/apikey</a></li>
                                <li>Logg inn med Google-kontoen din</li>
                                <li>Klikk "Create API Key"</li>
                                <li>Kopier n√∏kkelen (starter med <code>AIza...</code>)</li>
                            </ol>
                        </div>
                        <div class="provider-instruction" data-provider="openai">
                            <h4>üîê Slik f√•r du OpenAI API-n√∏kkel:</h4>
                            <ol>
                                <li>G√• til <a href="https://platform.openai.com/api-keys" target="_blank">platform.openai.com/api-keys</a></li>
                                <li>Opprett konto eller logg inn</li>
                                <li>Klikk "Create new secret key"</li>
                                <li>Kopier n√∏kkelen (starter med <code>sk-...</code>)</li>
                            </ol>
                        </div>
                        <div class="provider-instruction" data-provider="anthropic">
                            <h4>üü£ Slik f√•r du Anthropic API-n√∏kkel:</h4>
                            <ol>
                                <li>G√• til <a href="https://console.anthropic.com/settings/keys" target="_blank">console.anthropic.com/settings/keys</a></li>
                                <li>Opprett konto eller logg inn</li>
                                <li>Klikk "Create Key"</li>
                                <li>Kopier n√∏kkelen (starter med <code>sk-ant-...</code>)</li>
                            </ol>
                        </div>
                    </div>

                    <div class="api-input-group">
                        <label id="lKey" for="apiKey">API-n√∏kkel</label>
                        <div class="api-input-wrapper">
                            <input id="apiKey" type="password" placeholder="Lim inn din API-n√∏kkel her..." />
                            <button type="button" id="toggleKeyVisibility" class="input-icon-btn" title="Vis/skjul n√∏kkel">üëÅÔ∏è</button>
                        </div>
                        <div id="keyHint" class="hint"></div>
                    </div>

                    <div class="api-validation" id="apiValidation">
                        <div class="validation-pending hidden" id="validationPending">
                            <span class="validation-spinner"></span>
                            <span id="validationPendingText">Validerer n√∏kkel...</span>
                        </div>
                        <div class="validation-success hidden" id="validationSuccess">
                            <span class="validation-icon">‚úÖ</span>
                            <span id="validationSuccessText">N√∏kkel validert! Klar til √• fortsette.</span>
                        </div>
                        <div class="validation-error hidden" id="validationError">
                            <span class="validation-icon">‚ùå</span>
                            <span id="validationErrorText">Ugyldig n√∏kkel. Sjekk at du har kopiert hele n√∏kkelen.</span>
                        </div>
                    </div>

                    <!-- Security info box -->
                    <div class="security-box" id="securityBox">
                        <span class="security-icon">üîí</span>
                        <div class="security-text">
                            <strong id="securityTitle">Din n√∏kkel er trygg</strong>
                            <p id="securityDesc">API-n√∏kkelen sendes direkte fra din nettleser til valgt leverand√∏r. Den lagres aldri p√• v√•re servere ‚Äì alt skjer lokalt hos deg.</p>
                        </div>
                    </div>

                    <details class="advanced-settings">
                        <summary id="advancedSettingsLabel">‚öôÔ∏è Avanserte innstillinger</summary>
                        <div class="advanced-content">
                            <div class="row">
                                <div>
                                    <label id="lEndpoint" for="endpoint">API endpoint</label>
                                    <input id="endpoint" value="https://generativelanguage.googleapis.com/v1beta/openai/chat/completions" />
                                </div>
                                <div>
                                    <label id="lModel" for="model">Modell</label>
                                    <select id="model">
                                        <optgroup label="Google Gemini (Anbefalt)">
                                            <option value="gemini-2.5-flash" selected>Gemini 2.5 Flash (Rask)</option>
                                            <option value="gemini-2.5-pro">Gemini 2.5 Pro (Kraftig)</option>
                                            <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
                                            <option value="gemini-3-flash-preview">Gemini 3 Flash (Nyeste)</option>
                                            <option value="gemini-3-pro-preview">Gemini 3 Pro (Beste)</option>
                                        </optgroup>
                                        <optgroup label="OpenAI">
                                            <option value="gpt-4.1">GPT-4.1 (Smart)</option>
                                            <option value="gpt-5-mini">GPT-5 Mini (Rask)</option>
                                            <option value="gpt-5-nano">GPT-5 Nano (Billigst)</option>
                                            <option value="gpt-5.2">GPT-5.2 (Beste)</option>
                                            <option value="gpt-5.2-pro">GPT-5.2 Pro (Premium)</option>
                                        </optgroup>
                                        <optgroup label="Anthropic (Claude)">
                                            <option value="claude-sonnet-4-5-20250514">Claude Sonnet 4.5</option>
                                            <option value="claude-opus-4-5-20250514">Claude Opus 4.5 (Beste)</option>
                                            <option value="claude-haiku-4-5-20251001">Claude Haiku 4.5 (Rask)</option>
                                        </optgroup>
                                        <optgroup label="Annet">
                                            <option value="local-model">Lokal modell (LM Studio/Ollama)</option>
                                            <option value="custom">Egendefinert...</option>
                                        </optgroup>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <div>
                                    <label id="lRemember">Lagre n√∏kkel</label>
                                    <select id="rememberKey">
                                        <option value="no" selected>Ikke lagre (anbefalt)</option>
                                        <option value="local">Lagre lokalt i nettleser</option>
                                    </select>
                                    <div class="hint" id="hRemember">‚ö†Ô∏è Lagring anbefales ikke p√• delte maskiner</div>
                                </div>
                                <div>
                                    <label id="lStack" for="stack">Teknologi</label>
                                    <select id="stack">
                                        <option value="html-css-js" selected>Ren HTML/CSS/JS (anbefalt)</option>
                                        <option value="html-tailwind">HTML + Tailwind CSS</option>
                                        <option value="react">React (ESM - ingen npm)</option>
                                        <option value="custom">Egendefinert...</option>
                                    </select>
                                    <input id="stackCustom" class="hidden" placeholder="Skriv inn teknologi..." />
                                </div>
                            </div>
                        </div>
                    </details>

                    <div class="wizard-actions">
                        <button class="primary wizard-next-btn" id="step1NextBtn" disabled>
                            <span>Fortsett til neste steg</span>
                            <span class="btn-arrow">‚Üí</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- STEP 2: Prompt Builder (Premium Prompt Helper) -->
            <div class="wizard-panel" id="wizardStep2">
                <div class="card wizard-card prompt-builder-card">
                    <div class="wizard-card-header">
                        <span class="wizard-card-icon">‚ú®</span>
                        <div>
                            <h2 id="step2Title">Beskriv dr√∏mmeappen din</h2>
                            <p class="wizard-card-desc" id="step2Desc">Svar p√• sp√∏rsm√•lene under for √• lage en detaljert beskrivelse. Jo mer du forteller, jo bedre blir resultatet!</p>
                        </div>
                    </div>

                    <div class="prompt-builder">
                        <!-- Question 1: App Type -->
                        <div class="prompt-question">
                            <div class="prompt-question-header">
                                <span class="prompt-question-number">1</span>
                                <label id="promptQ1Label">Hva slags app vil du lage?</label>
                                <span class="prompt-required">*</span>
                            </div>
                            <input type="text" id="promptAppType" placeholder="F.eks. quiz-spill, todo-liste, kalkulator, portfolio, chatbot..." />
                            <div class="prompt-suggestions">
                                <span class="suggestion-chip" data-value="quiz-spill">üéÆ Quiz-spill</span>
                                <span class="suggestion-chip" data-value="todo-liste">üìù Todo-liste</span>
                                <span class="suggestion-chip" data-value="kalkulator">üî¢ Kalkulator</span>
                                <span class="suggestion-chip" data-value="portfolio">üíº Portfolio</span>
                                <span class="suggestion-chip" data-value="budsjett-sporer">üí∞ Budsjett-sporer</span>
                                <span class="suggestion-chip" data-value="v√¶r-app">üå§Ô∏è V√¶r-app</span>
                            </div>
                        </div>

                        <!-- Question 2: Target Audience -->
                        <div class="prompt-question">
                            <div class="prompt-question-header">
                                <span class="prompt-question-number">2</span>
                                <label id="promptQ2Label">Hvem er m√•lgruppen?</label>
                            </div>
                            <input type="text" id="promptAudience" placeholder="F.eks. elever, l√¶rere, meg selv, bedrifter..." />
                        </div>

                        <!-- Question 3: Main Function (Required) -->
                        <div class="prompt-question">
                            <div class="prompt-question-header">
                                <span class="prompt-question-number">3</span>
                                <label id="promptQ3Label">Beskriv hovedfunksjonen i detalj</label>
                                <span class="prompt-required">*</span>
                            </div>
                            <textarea id="promptMainFeature" rows="4" placeholder="Skriv hva brukeren skal kunne gj√∏re, hva som skal skje n√•r de klikker, hvilke resultater de skal se..."></textarea>
                            <div class="prompt-hint" id="promptQ3Hint">
                                üí° <strong>Tips:</strong> Beskriv steg-for-steg hva brukeren skal kunne gj√∏re. V√¶r s√• detaljert som mulig!
                            </div>
                        </div>

                        <!-- Question 4: Data -->
                        <div class="prompt-question">
                            <div class="prompt-question-header">
                                <span class="prompt-question-number">4</span>
                                <label id="promptQ4Label">Hvilke data skal lagres/vises?</label>
                            </div>
                            <textarea id="promptData" rows="2" placeholder="F.eks. brukerpoeng, historikk, favoritter, innstillinger..."></textarea>
                        </div>

                        <!-- Question 5: Interactions -->
                        <div class="prompt-question">
                            <div class="prompt-question-header">
                                <span class="prompt-question-number">5</span>
                                <label id="promptQ5Label">Interaksjoner - hva skal skje?</label>
                            </div>
                            <textarea id="promptInteractions" rows="2" placeholder="F.eks. animasjoner, lydeffekter, visuell feedback..."></textarea>
                        </div>

                        <!-- Question 6: Design Style -->
                        <div class="prompt-question">
                            <div class="prompt-question-header">
                                <span class="prompt-question-number">6</span>
                                <label id="promptQ6Label">Hvilket design/stemning?</label>
                            </div>
                            <div class="design-options">
                                <label class="design-option active">
                                    <input type="radio" name="designStyle" value="üíé Moderne & Glassmorphic" checked>
                                    <span class="design-option-content">
                                        <span class="design-icon">üíé</span>
                                        <span class="design-name">Moderne & Glassmorphic</span>
                                    </span>
                                </label>
                                <label class="design-option">
                                    <input type="radio" name="designStyle" value="üéÆ Gamer/Neon/Cyberpunk">
                                    <span class="design-option-content">
                                        <span class="design-icon">üéÆ</span>
                                        <span class="design-name">Gamer/Neon</span>
                                    </span>
                                </label>
                                <label class="design-option">
                                    <input type="radio" name="designStyle" value="üé® Fargerik & Leken">
                                    <span class="design-option-content">
                                        <span class="design-icon">üé®</span>
                                        <span class="design-name">Fargerik & Leken</span>
                                    </span>
                                </label>
                                <label class="design-option">
                                    <input type="radio" name="designStyle" value="üíº Profesjonell & Minimalistisk">
                                    <span class="design-option-content">
                                        <span class="design-icon">üíº</span>
                                        <span class="design-name">Profesjonell</span>
                                    </span>
                                </label>
                                <label class="design-option">
                                    <input type="radio" name="designStyle" value="üåô Dark Mode Premium">
                                    <span class="design-option-content">
                                        <span class="design-icon">üåô</span>
                                        <span class="design-name">Dark Mode</span>
                                    </span>
                                </label>
                                <label class="design-option">
                                    <input type="radio" name="designStyle" value="üåà Gradient & 3D-effekter">
                                    <span class="design-option-content">
                                        <span class="design-icon">üåà</span>
                                        <span class="design-name">Gradient & 3D</span>
                                    </span>
                                </label>
                            </div>
                        </div>

                        <!-- Question 7: Special Requests -->
                        <div class="prompt-question">
                            <div class="prompt-question-header">
                                <span class="prompt-question-number">7</span>
                                <label id="promptQ7Label">Spesielle √∏nsker?</label>
                            </div>
                            <textarea id="promptOther" rows="2" placeholder="F.eks. dark mode toggle, mobilvennlig, tilgjengelighet, spesifikke farger..."></textarea>
                        </div>
                    </div>

                    <!-- AI Improvement Section -->
                    <!-- Generated Prompt Preview -->
                    <div class="prompt-preview">
                        <div class="prompt-preview-header">
                            <h3 id="promptPreviewTitle">üìù Din prompt</h3>
                            <button type="button" class="preview-toggle-btn" id="togglePromptPreview">
                                <span id="togglePromptText">Vis forh√•ndsvisning</span>
                                <span class="toggle-arrow">‚ñº</span>
                            </button>
                        </div>
                        <div class="prompt-preview-content hidden" id="promptPreviewContent">
                            <pre id="generatedPromptText"></pre>
                        </div>
                    </div>

                    <!-- AI Improvement Section -->
                    <div class="ai-improve-section">
                        <div class="ai-improve-header">
                            <span class="ai-improve-icon">ü§ñ</span>
                            <div>
                                <h3 id="aiImproveTitle">AI-assistert forbedring</h3>
                                <p id="aiImproveDesc">La AI-en forbedre og utvide beskrivelsen din</p>
                            </div>
                            <button type="button" class="ai-improve-btn" id="aiImproveBtn">
                                <span>‚ú® Forbedre</span>
                            </button>
                        </div>
                        <div class="ai-improve-preview hidden" id="aiImprovePreview">
                            <div class="ai-preview-loading hidden" id="aiPreviewLoading">
                                <span class="ai-spinner"></span>
                                <span>AI forbedrer beskrivelsen din...</span>
                            </div>
                            <div class="ai-preview-result hidden" id="aiPreviewResult">
                                <div class="ai-preview-label">ü§ñ AI-forbedret versjon:</div>
                                <div class="ai-preview-content" id="aiPreviewContent"></div>
                                <div class="ai-preview-actions">
                                    <button type="button" class="secondary small" id="aiDiscardBtn">Forkast</button>
                                    <button type="button" class="primary small" id="aiApplyBtn">‚úÖ Bruk denne</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="wizard-actions">
                        <button class="secondary" id="step2BackBtn">
                            <span class="btn-arrow">‚Üê</span>
                            <span>Tilbake</span>
                        </button>
                        <button class="primary wizard-next-btn" id="step2NextBtn" disabled>
                            <span>üöÄ Generer app</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- STEP 3: Generate & Results -->
            <div class="wizard-panel" id="wizardStep3">
                <div class="card wizard-card">
                    <div class="wizard-card-header">
                        <span class="wizard-card-icon">üöÄ</span>
                        <div>
                            <h2 id="step3Title">Din app er klar!</h2>
                            <p class="wizard-card-desc" id="step3Desc">Resultatet vises nedenfor. Du kan forh√•ndsvise, laste ned eller kopiere koden.</p>
                        </div>
                    </div>

                    <!-- Progress bar for generation -->
                    <div class="progress-container hidden" id="progressContainer">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <div class="progress-status">
                            <span class="progress-icon" id="progressIcon">‚ö°</span>
                            <span class="progress-text" id="progressText">Starter...</span>
                        </div>
                    </div>

                    <div class="status" id="statusLine">
                        <span class="dot" id="statusDot"></span>
                        <span id="statusText">klar</span>
                    </div>

                    <div class="output-section">
                        <div class="split">
                            <h3 id="tOut">Output</h3>
                            <span class="tag" id="outMeta">ingen</span>
                        </div>
                        <pre class="mono" id="output" aria-label="output"></pre>

                        <div class="output-actions">
                            <button id="btnPreview" type="button" disabled>üëÅÔ∏è Preview</button>
                            <button id="btnCopy" type="button" disabled>üìã Kopier</button>
                            <button id="btnDownload" type="button" disabled>üíæ Last ned</button>
                            <button id="btnDownloadAll" type="button" disabled class="hidden">üì¶ Last ned ZIP</button>
                            <button id="btnShowFiles" type="button" disabled class="hidden">üìÇ Vis filer</button>
                        </div>
                    </div>

                    <!-- Refine/Edit Output Section -->
                    <div class="refine-section hidden" id="refineSection">
                        <div class="refine-header">
                            <span class="refine-icon">‚úèÔ∏è</span>
                            <div>
                                <h3 id="refineTitle">Ikke helt forn√∏yd?</h3>
                                <p id="refineDesc">Beskriv hva du vil endre eller forbedre</p>
                            </div>
                        </div>
                        <div class="refine-input-group">
                            <textarea id="refineInput" rows="3" placeholder="F.eks. 'Gj√∏r knappene st√∏rre', 'Legg til en footer', 'Endre fargetema til bl√•tt', 'Fiks buggen med...'"></textarea>
                            <button type="button" class="primary refine-btn" id="btnRefine" disabled>
                                <span>üîÑ Forbedre koden</span>
                            </button>
                        </div>
                        <div class="refine-loading hidden" id="refineLoading">
                            <span class="refine-spinner"></span>
                            <span id="refineLoadingText">AI forbedrer koden din...</span>
                        </div>
                    </div>

                    <div class="wizard-actions">
                        <button class="secondary" id="step3BackBtn">
                            <span class="btn-arrow">‚Üê</span>
                            <span>Tilbake</span>
                        </button>
                        <button class="primary" id="btnRegenerate">
                            <span>üîÑ Generer p√• nytt</span>
                        </button>
                        <button class="danger" id="btnStartOver">
                            <span>üîÅ Start p√• nytt</span>
                        </button>
                    </div>

                    <div class="footerNote" id="noteKey">Tips: legg aldri API key i generert kode</div>
                </div>
            </div>

            <!-- Hidden fields for compatibility -->
            <input type="hidden" id="projectName" value="min-app" />
            <input type="hidden" id="goal" value="" />
            <input type="hidden" id="users" value="" />
            <select id="appType" class="hidden"><option value="webapp">webapp</option></select>
            <select id="complexity" class="hidden"><option value="simple">simple</option></select>
            <select id="fileMode" class="hidden"><option value="single">single</option></select>
            <select id="outputLang" class="hidden"><option value="no">no</option></select>
            <input type="hidden" id="temperature" value="0.7" />

        </section>

        <section id="panelHelp" role="tabpanel" aria-labelledby="tabHelp" class="hidden">
            <div class="card help-card">
                <h2 id="helpTitle">üöÄ Kom i gang p√• 5 minutter</h2>
                <p class="help-intro">Vibe Code Generator bruker en enkel 3-stegs wizard som guider deg gjennom hele prosessen.</p>

                <div class="help-section">
                    <h3 id="helpStep1Title">üîë Steg 1: Koble til AI</h3>
                    <p id="helpStep1Desc">F√∏rst velger du hvilken AI-leverand√∏r du vil bruke og legger inn API-n√∏kkelen din:</p>
                    <div class="help-options">
                        <div class="help-option">
                            <strong>Google Gemini (Anbefalt for nybegynnere)</strong>
                            <ol>
                                <li>G√• til <a href="https://aistudio.google.com/apikey" target="_blank">aistudio.google.com/apikey</a></li>
                                <li>Logg inn med Google-kontoen din</li>
                                <li>Klikk "Create API Key"</li>
                                <li>Kopier n√∏kkelen (starter med AIza...)</li>
                            </ol>
                        </div>
                        <div class="help-option">
                            <strong>OpenAI (ChatGPT)</strong>
                            <ol>
                                <li>G√• til <a href="https://platform.openai.com/api-keys" target="_blank">platform.openai.com/api-keys</a></li>
                                <li>Opprett konto eller logg inn</li>
                                <li>Klikk "Create new secret key"</li>
                                <li>Kopier n√∏kkelen (starter med sk-...)</li>
                            </ol>
                        </div>
                        <div class="help-option">
                            <strong>Anthropic (Claude)</strong>
                            <ol>
                                <li>G√• til <a href="https://console.anthropic.com/settings/keys" target="_blank">console.anthropic.com/settings/keys</a></li>
                                <li>Opprett konto eller logg inn</li>
                                <li>Klikk "Create Key"</li>
                                <li>Kopier n√∏kkelen (starter med sk-ant-...)</li>
                            </ol>
                        </div>
                    </div>
                    <div class="help-tip">
                        <span class="tip-icon">üí°</span>
                        <div>
                            <strong>Tips:</strong>
                            <p>Wizarden viser deg automatisk instruksjoner for leverand√∏ren du velger, og validerer at n√∏kkelen har riktig format.</p>
                        </div>
                    </div>
                </div>

                <div class="help-section">
                    <h3 id="helpStep2Title">‚ú® Steg 2: Bygg din prompt</h3>
                    <p>Dette er hjertet av appen! En smart wizard guider deg gjennom 7 enkle sp√∏rsm√•l:</p>
                    <div class="help-tips">
                        <div class="help-tip">
                            <span class="tip-icon">1Ô∏è‚É£</span>
                            <div>
                                <strong>Hva skal appen hete?</strong>
                                <p>Gi appen din et navn som beskriver hva den gj√∏r.</p>
                            </div>
                        </div>
                        <div class="help-tip">
                            <span class="tip-icon">2Ô∏è‚É£</span>
                            <div>
                                <strong>Hva er hovedform√•let?</strong>
                                <p>Beskriv kort hva appen skal gj√∏re for brukeren.</p>
                            </div>
                        </div>
                        <div class="help-tip">
                            <span class="tip-icon">3Ô∏è‚É£</span>
                            <div>
                                <strong>Hvem er m√•lgruppen?</strong>
                                <p>Tenk p√• hvem som skal bruke appen.</p>
                            </div>
                        </div>
                        <div class="help-tip">
                            <span class="tip-icon">4Ô∏è‚É£</span>
                            <div>
                                <strong>Hvilke funksjoner trengs?</strong>
                                <p>List opp de viktigste funksjonene appen skal ha.</p>
                            </div>
                        </div>
                        <div class="help-tip">
                            <span class="tip-icon">5Ô∏è‚É£</span>
                            <div>
                                <strong>Spesielle √∏nsker?</strong>
                                <p>Eventuelle ekstra detaljer eller krav.</p>
                            </div>
                        </div>
                        <div class="help-tip">
                            <span class="tip-icon">6Ô∏è‚É£</span>
                            <div>
                                <strong>Velg designstil</strong>
                                <p>Moderne, minimalistisk, leken, profesjonell eller m√∏rk modus.</p>
                            </div>
                        </div>
                        <div class="help-tip">
                            <span class="tip-icon">7Ô∏è‚É£</span>
                            <div>
                                <strong>Velg fargetema</strong>
                                <p>Bl√•, gr√∏nn, lilla, oransje, rosa eller egendefinert.</p>
                            </div>
                        </div>
                    </div>
                    <div class="help-tip highlight-tip">
                        <span class="tip-icon">ü§ñ</span>
                        <div>
                            <strong>AI-forbedring (Premium-funksjon)</strong>
                            <p>Sl√• p√• "Forbedre med AI" for √• la AI-en gj√∏re prompten din enda bedre f√∏r generering. Dette legger til profesjonelle detaljer og best practices automatisk!</p>
                        </div>
                    </div>
                </div>

                <div class="help-section">
                    <h3 id="helpStep3Title">üéâ Steg 3: Generer og bruk</h3>
                    <p>N√•r prompten er klar, trykker du "Generer app" og venter noen sekunder:</p>
                    <div class="help-steps-visual">
                        <div class="visual-step">
                            <div class="step-number">1</div>
                            <div class="step-content">
                                <strong id="useStep1Title">Generer</strong>
                                <p id="useStep1Desc">Se live-forh√•ndsvisning mens koden genereres</p>
                            </div>
                        </div>
                        <div class="visual-step">
                            <div class="step-number">2</div>
                            <div class="step-content">
                                <strong id="useStep2Title">Forh√•ndsvis</strong>
                                <p id="useStep2Desc">Se resultatet direkte i nettleseren</p>
                            </div>
                        </div>
                        <div class="visual-step">
                            <div class="step-number">3</div>
                            <div class="step-content">
                                <strong id="useStep3Title">Last ned</strong>
                                <p id="useStep3Desc">Lagre som HTML-fil og √•pne lokalt</p>
                            </div>
                        </div>
                    </div>
                    <div class="help-tip">
                        <span class="tip-icon">üîÑ</span>
                        <div>
                            <strong>Ikke forn√∏yd?</strong>
                            <p>Klikk "Generer p√• nytt" for √• f√• en ny versjon, eller g√• tilbake og juster prompten din.</p>
                        </div>
                    </div>
                </div>

                <div class="help-section">
                    <h3 id="helpFaqTitle">‚ùì Ofte stilte sp√∏rsm√•l</h3>
                    <details class="faq-item">
                        <summary id="faq1Q">Hva er en API-n√∏kkel?</summary>
                        <p id="faq1A">En API-n√∏kkel er som et passord som lar denne appen snakke med AI-tjenesten. Den er gratis √• f√•, men hold den hemmelig!</p>
                    </details>
                    <details class="faq-item">
                        <summary id="faq2Q">Koster det penger?</summary>
                        <p id="faq2A">De fleste AI-leverand√∏rer har en gratis kvote. Google Gemini er helt gratis for hobbybruk. For OpenAI kan du f√• gratis kreditter ved oppstart.</p>
                    </details>
                    <details class="faq-item">
                        <summary id="faq3Q">Hva gj√∏r "Forbedre med AI"?</summary>
                        <p id="faq3A">Denne funksjonen sender prompten din til AI-en f√∏rst for √• gj√∏re den mer detaljert og profesjonell. Du f√•r se forbedringen f√∏r generering starter.</p>
                    </details>
                    <details class="faq-item">
                        <summary id="faq4Q">Jeg f√•r feilmelding - hva gj√∏r jeg?</summary>
                        <p id="faq4A">Sjekk at: 1) API-n√∏kkelen er riktig kopiert og har riktig format, 2) Du har valgt riktig leverand√∏r, 3) Pr√∏v √• generere p√• nytt.</p>
                    </details>
                    <details class="faq-item">
                        <summary id="faq5Q">Kan jeg redigere koden etterp√•?</summary>
                        <p id="faq5A">Ja! √Öpne filen i et program som VS Code, Notepad++, eller til og med vanlig Notepad. Du kan endre tekst, farger og mer.</p>
                    </details>
                    <details class="faq-item">
                        <summary id="faq6Q">Lagres API-n√∏kkelen min?</summary>
                        <p id="faq6A">N√∏kkelen sendes kun til AI-leverand√∏ren du har valgt, aldri til v√•re servere. Hvis du velger "Lagre lokalt", lagres n√∏kkelen i nettleseren (localStorage) med enkel obfuskering. Merk: localStorage er ikke helt sikkert - browser-utvidelser og andre brukere p√• maskinen kan potensielt lese den. Vi anbefaler kun √• lagre n√∏kkelen p√• din egen private maskin.</p>
                    </details>
                    <details class="faq-item">
                        <summary id="faq7Q">Er appen sikker √• bruke?</summary>
                        <p id="faq7A">Ja, appen kj√∏rer helt i nettleseren din uten backend. API-n√∏kkelen din sendes kun til AI-leverand√∏ren via kryptert HTTPS-tilkobling. Forh√•ndsvisning av generert kode kj√∏rer i en sandkasse (iframe) som ikke kan p√•virke hovedsiden. Vi anbefaler likevel √• gjennomg√• generert kode f√∏r du bruker den i produksjon.</p>
                    </details>
                </div>
            </div>
        </section>

    </div>

    <!-- About Section -->
    <section id="panelAbout" role="tabpanel" aria-labelledby="tabAbout" class="hidden">
        <div class="card about-card">
            <div class="about-header">
                <div class="about-brand">
                    <h1 id="aboutBrand">Vibe Code Idea Builder</h1>
                    <p class="about-tagline" id="aboutTagline">Fra id√© til fungerende app p√• sekunder</p>
                </div>
            </div>

            <div class="about-content">
                <div class="about-section">
                    <h3 id="aboutAppTitle">Hva kan du lage?</h3>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="feature-icon">üéÆ</span>
                            <div>
                                <strong>Spill og interaktive apper</strong>
                                <p>Quiz, memory-spill, trivia, enkle arkadespill</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üìä</span>
                            <div>
                                <strong>Verkt√∏y og kalkulatorer</strong>
                                <p>BMI-kalkulator, valutaomregner, to-do lister</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üé®</span>
                            <div>
                                <strong>Kreative prosjekter</strong>
                                <p>Portfolio-sider, landingssider, digitale kort</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üì±</span>
                            <div>
                                <strong>Web-apper</strong>
                                <p>V√¶rapp, oppskriftsamling, treningsdagbok</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="about-section">
                    <h3 id="aboutHowTitle">Slik fungerer det</h3>
                    <div class="how-it-works">
                        <div class="how-step">
                            <span class="how-number">1</span>
                            <p><strong>Koble til AI</strong> ‚Äì Velg leverand√∏r og legg inn API-n√∏kkel</p>
                        </div>
                        <div class="how-step">
                            <span class="how-number">2</span>
                            <p><strong>Beskriv id√©en</strong> ‚Äì Svar p√• sp√∏rsm√•l om appen din</p>
                        </div>
                        <div class="how-step">
                            <span class="how-number">3</span>
                            <p><strong>Generer</strong> ‚Äì AI lager komplett, fungerende kode</p>
                        </div>
                        <div class="how-step">
                            <span class="how-number">4</span>
                            <p><strong>Last ned</strong> ‚Äì √ân HTML-fil som fungerer overalt</p>
                        </div>
                    </div>
                </div>

                <div class="about-section">
                    <h3 id="aboutFeaturesTitle">Kraftige funksjoner</h3>
                    <ul class="features-list">
                        <li>ü§ñ <strong>AI-assistert prompt-forbedring</strong> ‚Äì La AI-en gj√∏re beskrivelsen din enda bedre</li>
                        <li>üéØ <strong>Smart wizard</strong> ‚Äì Guidet prosess med forslag og tips</li>
                        <li>üëÅÔ∏è <strong>Live forh√•ndsvisning</strong> ‚Äì Se resultatet direkte i nettleseren</li>
                        <li>üì¶ <strong>Multi-fil st√∏tte</strong> ‚Äì Last ned som ZIP ved komplekse prosjekter</li>
                        <li>üîí <strong>100% privat</strong> ‚Äì API-n√∏kkelen din forlater aldri nettleseren</li>
                    </ul>
                </div>

                <div class="about-section">
                    <h3 id="aboutContactTitle">Kontakt</h3>
                    <div class="contact-grid">
                        <div class="contact-item">
                            <span class="contact-icon">‚úâÔ∏è</span>
                            <div>
                                <strong id="aboutEmailLabel">E-post</strong>
                                <a href="mailto:kenneth@laererliv.no" id="aboutEmail">kenneth@laererliv.no</a>
                            </div>
                        </div>
                        <div class="contact-item">
                            <span class="contact-icon">üåê</span>
                            <div>
                                <strong id="aboutWebLabel">Nettside</strong>
                                <a href="https://laererliv.no" target="_blank" id="aboutWeb">laererliv.no</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="about-section">
                    <h3 id="aboutOpenSourceTitle">√Öpen kildekode</h3>
                    <p id="aboutOpenSourceDesc">Dette prosjektet er √•pen kildekode. Du kan se, kopiere og bidra til koden p√• GitHub.</p>
                    <a href="https://github.com/barx10/vibe_code_generator" target="_blank" class="github-link">
                        <span>üì¶</span> Se koden p√• GitHub
                    </a>
                </div>
            </div>

            <div class="about-footer">
                <a href="https://laererliv.no" target="_blank" class="footer-logo-link">
                    <img src="laererliv-logo.png" alt="L√¶rerliv logo" class="footer-logo">
                </a>
                <p class="copyright">¬© 2025 L√¶rerliv. Alle rettigheter reservert.</p>
                <p class="made-with" id="aboutMadeWith">Laget med ‚ù§Ô∏è for l√¶ring</p>
            </div>
        </div>
    </section>

    <script src="script.js"></script>
</body>

</html>
